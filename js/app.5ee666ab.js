(function(t){function e(e){for(var o,s,r=e[0],c=e[1],u=e[2],v=0,f=[];v<r.length;v++)s=r[v],n[s]&&f.push(n[s][0]),n[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],o=!0,r=1;r<i.length;r++){var c=i[r];0!==n[c]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var o={},n={app:0},a=[];function s(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=o,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/movie-finder/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0fb9":function(t,e,i){},"1eee":function(t,e,i){},2868:function(t,e,i){"use strict";var o=i("3c9d"),n=i.n(o);n.a},"3c9d":function(t,e,i){},4936:function(t,e,i){},"4c83":function(t,e,i){"use strict";var o=i("4936"),n=i.n(o);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var o=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},["/movie-finder/login"!==t.$route.path?i("div",{staticClass:"navigation-buttons"},[i("button",{staticClass:"button is-pulled-left",on:{click:t.logout}},[i("i",{staticClass:"fa fa-sign-out"}),i("span",[t._v("Logout")])]),i("div",{staticClass:"is-pulled-right"},[i("a",{staticClass:"button",on:{click:function(e){t.$router.push("/movie-finder/favorites")}}},[i("i",{staticClass:"fa fa-bookmark"}),i("span",[t._v("Favorites: "+t._s(t.favoriteItemsQuantity))])])])]):t._e(),i("div",{staticClass:"container"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-6 column--align-center"},[i("router-view")],1)])])])},a=[],s=i("c93e"),r=i("2f62"),c={name:"App",methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$store.dispatch("removeMovies")}).then(function(){t.$router.push("/movie-finder/login")})},updateState:function(){this.$store.dispatch("getMovies"),this.$store.dispatch("getGenres"),this.$store.dispatch("getFavoriteItems")}},computed:Object(s["a"])({},Object(r["c"])(["favoriteItemsQuantity","token"])),created:function(){var t=localStorage.getItem("token");t&&this.updateState()},watch:{token:function(){this.token&&this.updateState()}}},u=c,l=(i("2868"),i("2877")),v=Object(l["a"])(u,n,a,!1,null,null,null);v.options.__file="App.vue";var f=v.exports,m=i("bc3a"),d=i.n(m),h={token:null,loading:!1},p={SET_TOKEN:function(t,e){t.token=e},LOGIN_PENDING:function(t){t.loading=!0},LOGIN_SUCCESS:function(t){t.loading=!1}},g={login:function(t){var e=t.commit;return e("LOGIN_PENDING"),new Promise(function(t){var i="d8cddbe535b2380383617e2ec77b290c";localStorage.setItem("token",i),e("SET_TOKEN",i),e("LOGIN_SUCCESS"),t()})},logout:function(t){var e=t.commit;return new Promise(function(t){localStorage.removeItem("token"),e("SET_TOKEN",null),t()})}},_={token:function(t){return t.token},loading:function(t){return t.loading}},b={state:h,mutations:p,actions:g,getters:_},I=b,C=(i("7514"),i("8afe")),O={movies:[],genres:[],TOKEN:"d8cddbe535b2380383617e2ec77b290c",page:1,loading:!1},E={LOAD_MOVIES:function(t,e){t.movies=Object(C["a"])(t.movies).concat(Object(C["a"])(e))},REMOVE_MOVIES:function(t,e){t.movies=e},LOAD_GENRES:function(t,e){t.genres=e},LOGIN_PENDING:function(t){t.loading=!0},LOGIN_SUCCESS:function(t){t.loading=!1}},k={getMovies:function(t){var e=t.commit;return e("LOGIN_PENDING"),d.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat(O.TOKEN,"&language=en-US&page=").concat(O.page++)).then(function(t){e("LOAD_MOVIES",t.data.results),e("LOGIN_SUCCESS")})},getGenres:function(t){var e=t.commit;d.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(O.TOKEN,"&language=en-US")).then(function(t){e("LOAD_GENRES",t.data.genres)})},removeMovies:function(t){var e=t.commit;return new Promise(function(t){e("REMOVE_MOVIES",[]),t()})}},w={movies:function(t){return t.movies},moviesQuantity:function(t){return t.movies.length},genres:function(t){return t.genres},TOKEN:function(t){return t.TOKEN},movieItemFromId:function(t){return function(e){return t.movies.find(function(t){return t.id===e})}}},y={state:O,mutations:E,actions:k,getters:w},S=y,x=(i("20d6"),i("c18c")),M={favoriteItems:[]},T={ADD_FAVORITE_ITEM:function(t,e){t.favoriteItems.push(e)},REMOVE_FAVORITE_ITEM:function(t,e){t.favoriteItems.splice(e,1)},GET_FAVORITE_ITEMS:function(t,e){t.favoriteItems=e},UPDATE_FAVORITE_ITEMS:function(t,e){t.favoriteItems=e}},N={addFavoriteItem:function(t,e){var i=t.commit,o=M.favoriteItems.findIndex(function(t){return t.id===e.id});-1!==o?(i("REMOVE_FAVORITE_ITEM",o),localStorage.favoriteItems=JSON.stringify(M.favoriteItems)):(e.favorite=!0,i("ADD_FAVORITE_ITEM",e),localStorage.favoriteItems=JSON.stringify(M.favoriteItems))},getFavoriteItems:function(t){var e=t.commit;e("GET_FAVORITE_ITEMS",JSON.parse(localStorage.favoriteItems||"[]"))},removeAllFavoriteItems:function(t){var e=t.commit;e("UPDATE_FAVORITE_ITEMS",[]),localStorage.removeItem("favoriteItems")},changeItemPosition:function(t,e){var i=t.commit,o=e.item,n=e.shift,a=M.favoriteItems.indexOf(o),s=x(M.favoriteItems,a,a+n);i("UPDATE_FAVORITE_ITEMS",s),localStorage.favoriteItems=JSON.stringify(s)}},j={favoriteItemsQuantity:function(t){return t.favoriteItems.length},favoriteItems:function(t){return t.favoriteItems},isFavorite:function(t){return function(e){return t.favoriteItems.find(function(t){if(t.id===e&&!0===t.favorite)return t})}},favoriteMovieItem:function(t){return function(t){var e=JSON.parse(localStorage.favoriteItems);return e.find(function(e){if(e.id===t)return e})}}},L={state:M,mutations:T,actions:N,getters:j},F=L;o["a"].use(r["a"]);var $=new r["a"].Store({modules:{login:I,movie:S,favorite:F}}),A=i("8c4f"),G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"has-text-centered"},[i("h1",{staticClass:"title"},[t._v("Sorry. Page Not Found :(")]),i("p",[t._v("Use the navigation links above to navigate between the product and\n  cart screens.")])])}],R={name:"NotFound"},D=R,V=(i("4c83"),Object(l["a"])(D,G,P,!1,null,"312e2ba2",null));V.options.__file="NotFound.vue";var U=V.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box has-text-centered",attrs:{id:"login"}},[i("h2",{staticClass:"title"},[t._v("Fullstack Movies")]),i("button",{class:[{"is-loading":t.loading},"button is-primary"],on:{click:t.login}},[i("i",{staticClass:"fa fa-sign-in"}),t._v("\n    Login\n  ")])])},Q=[],B={name:"LoginBox",methods:{login:function(){var t=this;this.$store.dispatch("login").then(function(){t.$router.push("/movie-finder/movies")})}},computed:Object(s["a"])({},Object(r["c"])(["loading"]))},J=B,q=(i("7e47"),Object(l["a"])(J,K,Q,!1,null,"37d909e9",null));q.options.__file="LoginBox.vue";var z=q.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box",attrs:{id:"movies"}},[i("div",{staticClass:"movies--header has-text-centered"},[i("i",{staticClass:"fa fa-2x fa-film"}),i("MovieSearch",{attrs:{movies:t.movies}})],1),i("div",{staticClass:"movie-list"},t._l(t.movies,function(t){return i("div",{key:t.id,staticClass:"movie-list--item"},[i("MovieListItem",{attrs:{movie:t}})],1)})),i("div",{staticClass:"movie-count has-text-right"},[i("span",{staticClass:"has-text-weight-bold"},[t._v("# of movies: "+t._s(t.moviesQuantity))])]),i("div",{staticClass:"movie-load"},[i("button",{class:[{"is-loading":t.loading},"button is-primary"],on:{click:t.getMovies}},[t._v("Load more...")])])])},W=[],X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"box",attrs:{id:"movie-list-item"}},[i("span",{staticClass:"bookmark-icon"},[i("i",{class:[t.basicStarClass,t.additionalBookmarkClass],on:{click:t.addItemToFavorites}})]),i("div",{staticClass:"movie-list-item__details"},[i("h1",{staticClass:"title is-4"},[i("router-link",{staticClass:"movie-list-item__link",attrs:{to:"/movie-finder/movies/"+t.movie.id}},[t._v(t._s(t.movie.title))]),t._l(t.movie.genre_ids,function(e,o){return i("p",{key:o,staticClass:"tag movie-list-item__tag"},[t.genres?i("MovieGenre",{attrs:{genre:t.getGenre(e)}}):t._e()],1)}),i("p",[i("span",{class:[t.basicTagClass,t.additionalRatingClass]},[t._v("\n          "+t._s(t.movie.vote_average)+"\n          "),i("i",{staticClass:"fa fa-star"})])])],2),i("p",{staticClass:"movie-list-item__description"},[t._v(t._s(t.movie.overview))]),i("p",{staticClass:"movie-list-item__created_at"},[t._v("\n      Release Date:\n      "),i("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(t.movie.release_date))])])]),i("div",{staticClass:"movie-list-item__image"},[i("img",{attrs:{src:"https://image.tmdb.org/t/p/w500/"+t.movie.poster_path}})])])},Y=[],Z=(i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v(t._s(t.genre))])}),tt=[],et={name:"MovieGenre",props:["genre"]},it=et,ot=(i("8098"),Object(l["a"])(it,Z,tt,!1,null,"35976eab",null));ot.options.__file="MovieGenre.vue";var nt=ot.exports,at={name:"MovieListItem",props:["movie"],data:function(){return{basicStarClass:"fa fa-2x",basicTagClass:"tag movie-rating__tag",activeBookmarkClass:"fa-bookmark",inactiveBookmarkClass:"fa-bookmark-o"}},computed:Object(s["a"])({additionalBookmarkClass:function(){return this.isFavorite?this.activeBookmarkClass:this.inactiveBookmarkClass},additionalRatingClass:function(){switch(!0){case this.movie.vote_average<6:return"is-danger";case this.movie.vote_average<7:return"is-warning";case this.movie.vote_average<8:return"is-info";case this.movie.vote_average<9:return"is-link";case this.movie.vote_average<10:return"is-success"}},isFavorite:function(){return this.$store.getters.isFavorite(this.movie.id)}},Object(r["c"])(["genres","favoriteItem"])),methods:{getGenre:function(t){var e=this.genres.find(function(e){return e.id===t});if(e)return e.name},addItemToFavorites:function(){this.$store.dispatch("addFavoriteItem",this.movie)}},components:{MovieGenre:nt}},st=at,rt=(i("7f25"),Object(l["a"])(st,X,Y,!1,null,"17538202",null));rt.options.__file="MovieListItem.vue";var ct=rt.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.movies?i("div",{staticClass:"field"},[i("div",{class:[{"is-loading":t.isLoading},"control"]},[i("p",{staticClass:"control has-icons-left has-icons-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input is-primary",attrs:{type:"text",placeholder:"Serch film by title"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.onChange],keydown:[function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?t.onArrowDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?t.onArrowUp(e):null},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onEnter(e):null}]}}),t._m(0),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"icon is-small is-right"},[i("i",{staticClass:"fa fa-check"})])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen&&0!==t.search.length,expression:"isOpen && search.length !== 0"}],staticClass:"autocomplete-results"},t._l(t.results,function(e,o){return i("li",{key:o,staticClass:"autocomplete-result",class:{"is-active":o===t.arrowCounter}},[i("router-link",{attrs:{to:"/movie-finder/movies/"+e.id}},[t._v(t._s(e.title))])],1)}))])]):t._e()},lt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon is-small is-left"},[i("i",{staticClass:"fa fa-search"})])}],vt=(i("386d"),{name:"MovieSearch",props:["movies"],data:function(){return{search:"",results:[],isOpen:!1,isLoading:!1,arrowCounter:-1}},methods:{onChange:function(){this.isOpen=!0,this.filterResults()},filterResults:function(){var t=this;this.results=this.movies.filter(function(e){return e.title.toLowerCase().indexOf(t.search.toLowerCase())>-1})},onArrowDown:function(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp:function(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter:function(){this.$router.push("/movie-finder/movies/".concat(this.results[this.arrowCounter].id)),this.isOpen=!1,this.arrowCounter=-1},handleClickOutside:function(t){this.$el.contains(t.target)||(this.isOpen=!1,this.arrowCounter=-1)}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}}),ft=vt,mt=(i("9f79"),Object(l["a"])(ft,ut,lt,!1,null,"438a1f08",null));mt.options.__file="MovieSearch.vue";var dt=mt.exports,ht={name:"MovieList",components:{MovieListItem:ct,MovieSearch:dt},computed:Object(s["a"])({},Object(r["c"])(["movies","moviesQuantity","loading"])),methods:Object(s["a"])({},Object(r["b"])(["getMovies"]))},pt=ht,gt=(i("e647"),Object(l["a"])(pt,H,W,!1,null,"261e9c5a",null));gt.options.__file="MoviesList.vue";var _t=gt.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item?i("section",{staticClass:"box",attrs:{id:"movie-item"}},[i("span",{staticClass:"return-icon",on:{click:function(e){t.$router.go(-1)}}},[i("i",{staticClass:"fa fa-2x fa-arrow-left"})]),i("div",{staticClass:"movie-item__details"},[i("h1",{staticClass:"title is-4"},[i("p",[t._v(t._s(t.item.title))])])]),i("div",{staticClass:"movie-item__image"},[i("iframe",{attrs:{width:"auto",height:"315",src:"https://www.youtube.com/embed/"+t.youtubeKey,frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""}})])]):t._e()},It=[],Ct={name:"movieItem",props:["id"],computed:Object(s["a"])({movieItem:function(){return this.$store.getters.movieItemFromId(parseInt(this.id))},favoriteMovieItem:function(){return this.$store.getters.favoriteMovieItem(parseInt(this.id))},item:function(){return this.movieItem||this.favoriteMovieItem}},Object(r["c"])(["TOKEN"])),data:function(){return{youtubeKey:null}},methods:{searchSource:function(){var t=this;d.a.get("https://api.themoviedb.org/3/movie/".concat(this.id,"/videos?api_key=").concat(this.TOKEN,"&language=en-US")).then(function(e){t.youtubeKey=e.data.results[0].key}).catch(function(t){return window.console.log(t)})}},created:function(){this.searchSource()}},Ot=Ct,Et=(i("a97b"),Object(l["a"])(Ot,bt,It,!1,null,"1493ff69",null));Et.options.__file="MovieItem.vue";var kt=Et.exports,wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"favorite"}},[i("div",{staticClass:"favorite--header has-text-centered"},[i("i",{staticClass:"fa fa-2x fa-arrow-left",on:{click:function(e){t.$router.go(-1)}}}),i("i",{staticClass:"fa fa-2x fa-bookmark"})]),0===t.favoriteItems.length?i("p",{staticClass:"favorite-empty-text has-text-centered"},[t._v("\n    Add some items to the favorite list!\n  ")]):t._e(),i("ul",[t._l(t.favoriteItems,function(t){return i("li",{key:t.id,staticClass:"favorite-item"},[i("FavoriteListItem",{attrs:{item:t}})],1)}),i("div",{staticClass:"favorite-details"},[i("p",[t._v("Total Quantity:\n        "),i("span",{staticClass:"has-text-weight-bold"},[t._v(t._s(t.favoriteItemsQuantity))])]),i("button",{staticClass:"favorite-remove-all--text",attrs:{disabled:0===t.favoriteItems.length},on:{click:t.removeAllFavoriteItems}},[i("i",{staticClass:"fa fa-trash"}),t._v("Remove all\n      ")])])],2)])},yt=[],St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"favorite-item__details"},[i("p",{staticClass:"is-inline"},[i("router-link",{attrs:{to:"/movie-finder/movies/"+t.item.id}},[t._v(t._s(t.item.title))])],1),i("div",[i("span",{staticClass:"favorite-item--price has-text-primary has-text-weight-bold"}),i("span",[i("i",{staticClass:"fa fa-arrow-circle-up favorite-item__modify",on:{click:function(e){t.changeItemPosition({item:t.item,shift:-1})}}}),i("i",{staticClass:"fa fa-arrow-circle-down favorite-item__modify",on:{click:function(e){t.changeItemPosition({item:t.item,shift:1})}}})])])]),i("div",{staticClass:"favorite-item__image"},[i("img",{attrs:{src:"https://image.tmdb.org/t/p/w500/"+t.item.poster_path}})])])},xt=[],Mt={name:"FavoriteListItem",props:["item"],computed:Object(s["a"])({},Object(r["b"])(["favoriteItemsQuantity"])),methods:{changeItemPosition:function(t){this.$store.dispatch("changeItemPosition",t)}}},Tt=Mt,Nt=(i("de29"),Object(l["a"])(Tt,St,xt,!1,null,"1ab31944",null));Nt.options.__file="FavoriteListItem.vue";var jt=Nt.exports,Lt={name:"FavoriteList",components:{FavoriteListItem:jt},computed:Object(s["a"])({},Object(r["c"])(["favoriteItems","favoriteItemsQuantity"])),methods:Object(s["a"])({},Object(r["b"])(["removeAllFavoriteItems"]))},Ft=Lt,$t=(i("8e1e"),Object(l["a"])(Ft,wt,yt,!1,null,"41af9a51",null));$t.options.__file="FavoritesList.vue";var At=$t.exports;o["a"].use(A["a"]);var Gt=new A["a"]({mode:"history",routes:[{path:"/movie-finder/",redirect:"/movie-finder/movies"},{path:"*",component:U},{path:"/movie-finder/movies",component:_t},{path:"/movie-finder/movies/:id",component:kt,props:!0},{path:"/movie-finder/favorites",component:At},{path:"/movie-finder/login",component:z,beforeEnter:function(t,e,i){var o=localStorage.getItem("token");o&&i("/movie-finder/movies"),i()}}]});Gt.beforeEach(function(t,e,i){var o=localStorage.getItem("token");o||"/movie-finder/login"===t.path?i():i("/movie-finder/login")});var Pt=Gt;new o["a"]({store:$,router:Pt,render:function(t){return t(f)}}).$mount("#app")},"5bee":function(t,e,i){},"7e47":function(t,e,i){"use strict";var o=i("5bee"),n=i.n(o);n.a},"7f25":function(t,e,i){"use strict";var o=i("ce5d"),n=i.n(o);n.a},8098:function(t,e,i){"use strict";var o=i("af32"),n=i.n(o);n.a},"8e1e":function(t,e,i){"use strict";var o=i("e1d2"),n=i.n(o);n.a},"9f79":function(t,e,i){"use strict";var o=i("1eee"),n=i.n(o);n.a},a97b:function(t,e,i){"use strict";var o=i("b96e"),n=i.n(o);n.a},af32:function(t,e,i){},b96e:function(t,e,i){},ce5d:function(t,e,i){},de29:function(t,e,i){"use strict";var o=i("e065"),n=i.n(o);n.a},e065:function(t,e,i){},e1d2:function(t,e,i){},e647:function(t,e,i){"use strict";var o=i("0fb9"),n=i.n(o);n.a}});
//# sourceMappingURL=app.5ee666ab.js.map